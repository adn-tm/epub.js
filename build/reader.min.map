{"version":3,"file":"reader.min.js","sources":["reader.js"],"names":["EPUBJS","reader","plugins","root","$","ePubReader","path","options","Reader","define","amd","module","exports","window","jQuery","bookPath","_options","book","plugin","parameters","this","$viewer","search","location","settings","core","defaults","restore","reload","bookmarks","undefined","annotations","contained","bookKey","styles","sidebarReflow","generatePagination","history","slice","split","forEach","p","name","value","decodeURIComponent","setBookKey","isSaved","applySavedSettings","fontSize","Book","previousLocationCfi","gotoCfi","offline","sidebarOpen","width","height","renderTo","ReaderController","call","SettingsController","ControlsController","SidebarController","BookmarksController","NotesController","FootnoteController","hasOwnProperty","ready","all","then","hideLoader","getMetadata","meta","MetaController","getToc","toc","TocController","addEventListener","unload","bind","hashChanged","document","adjustFontSize","on","arrowKeys","selectedRange","prototype","e","interval","PLUS","MINUS","ZERO","MOD","ctrlKey","metaKey","parseInt","keyCode","preventDefault","setStyle","getBookmarkCaption","cfi","maxLength","epubcfi","EpubCFI","a","generateRangeFromCfi","renderer","doc","text","toString","length","substr","addBookmark","present","isBookmarked","bm","push","trigger","removeBookmark","bookmark","splice","i","clearBookmarks","addNote","note","removeNote","index","indexOf","clearNotes","identifier","VERSION","host","storedSettings","localStorage","getItem","removeSavedSettings","removeItem","stored","JSON","parse","saveSettings","getCurrentLocationCfi","setItem","stringify","hash","range","generateCfiFromRangeAnchor","currentChapter","cfiBase","cfiFragment","pushState","currentLocationCfi","RSVP","EventTarget","mixin","$bookmarks","$list","find","docfrag","createDocumentFragment","show","hide","counter","createBookmarkItem","listitem","createElement","link","id","classList","add","textContent","href","event","getAttribute","appendChild","append","item","$item","remove","$fullscreen","$slider","$settings","$bookmark","goOnline","goOffline","fullscreen","addClass","removeClass","screenfull","toggle","raw","fullscreenchange","isFullscreen","bookmarked","hideFootnote","footnoteFrame","isShown","fadeOut","ANIMATION_DURATION","showFootnote","textNode","stopPropagation","cancelBubble","x","clientX","scrollX","y","clientY","scrollY","srcElement","offsetHeight","clonedText","clone","wrapper","empty","css","top","left","fadeIn","duration","complete","console","log","targetLink","getElementById","node","innerText","parentNode","title","bookTitle","author","creator","lang","language","$title","$author","$dash","html","registerHook","callback","getElementsByTagName","setAttribute","$notesView","$notes","$text","$anchor","popups","insertAtPoint","offset","annotation","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","nodeType","childNodes","generateCfiFromTextNode","annotatedAt","Date","anchor","body","val","addAnnotation","placeMarker","prop","off","innerHTML","onclick","marker","mark","style","verticalAlign","lineHeight","padding","backgroundColor","borderRadius","cursor","uuid","addMarker","markerEvents","txt","showPop","pop","itemRect","iheight","iwidth","maxHeight","pop_content","render","onPop","offPop","hidePop","getBoundingClientRect","popRect","setTimeout","openSidebar","slideOut","chapter","spinePos","$main","$divider","$loader","$next","$prev","slideIn","currentPosition","one","showLoader","hideDivider","showDivider","keylock","metadata","direction","nextPage","prevPage","bool","DEFAULT_SETTINGS","fontName","color","background","key","$overlay","$sidebarReflowSetting","ColorPicker","onChange","hsb","hex","rgb","applySettings","origin","pathname","join","applyHeadTags","rel","$sidebar","$panels","activePanel","changePanelTo","viewName","controllerName","getActivePanel","view","data","generateTocItems","level","container","subitems","label","insertBefore","onShow","onHide","chapterChange","$current","has","parents","tocitems","url","parent","$el","open","hasClass"],"mappings":"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"}