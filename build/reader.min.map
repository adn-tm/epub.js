{"version":3,"file":"reader.min.js","sources":["reader.js"],"names":["EPUBJS","reader","plugins","root","$","ePubReader","path","options","Reader","define","amd","module","exports","window","jQuery","bookPath","_options","book","plugin","parameters","this","$viewer","search","location","settings","core","defaults","restore","reload","bookmarks","undefined","annotations","contained","bookKey","styles","sidebarReflow","generatePagination","history","slice","split","forEach","p","name","value","decodeURIComponent","setBookKey","isSaved","applySavedSettings","fontSize","Book","previousLocationCfi","gotoCfi","offline","sidebarOpen","width","height","renderTo","ReaderController","call","SettingsController","ControlsController","SidebarController","BookmarksController","NotesController","FootnoteController","hasOwnProperty","ready","all","then","hideLoader","getMetadata","meta","MetaController","getToc","toc","TocController","addEventListener","unload","bind","hashChanged","document","adjustFontSize","on","arrowKeys","selectedRange","prototype","e","interval","PLUS","MINUS","ZERO","MOD","ctrlKey","metaKey","parseInt","keyCode","preventDefault","setStyle","addBookmark","cfi","present","isBookmarked","push","trigger","removeBookmark","bookmark","splice","indexOf","clearBookmarks","addNote","note","removeNote","index","clearNotes","identifier","VERSION","host","storedSettings","localStorage","getItem","removeSavedSettings","removeItem","stored","JSON","parse","saveSettings","getCurrentLocationCfi","setItem","stringify","hash","range","epubcfi","EpubCFI","generateCfiFromRangeAnchor","renderer","currentChapter","cfiBase","cfiFragment","pushState","currentLocationCfi","RSVP","EventTarget","mixin","$bookmarks","$list","find","docfrag","createDocumentFragment","show","hide","counter","getBookmarkCaption","maxLength","a","generateRangeFromCfi","doc","text","toString","length","substr","createBookmarkItem","listitem","createElement","link","id","classList","add","textContent","href","event","getAttribute","appendChild","append","item","$item","remove","$fullscreen","$slider","$settings","$bookmark","goOnline","goOffline","fullscreen","addClass","removeClass","screenfull","toggle","raw","fullscreenchange","isFullscreen","bookmarked","hideFootnote","footnoteFrame","isShown","fadeOut","ANIMATION_DURATION","showFootnote","textNode","stopPropagation","cancelBubble","x","clientX","scrollX","y","clientY","scrollY","srcElement","offsetHeight","clonedText","clone","wrapper","empty","css","top","left","fadeIn","duration","complete","console","log","targetLink","getElementById","node","innerText","parentNode","title","bookTitle","author","creator","lang","language","$title","$author","$dash","html","registerHook","callback","getElementsByTagName","setAttribute","$notesView","$notes","$text","$anchor","popups","insertAtPoint","offset","annotation","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","nodeType","i","childNodes","generateCfiFromTextNode","annotatedAt","Date","anchor","body","val","addAnnotation","placeMarker","prop","off","innerHTML","onclick","marker","mark","style","verticalAlign","lineHeight","padding","backgroundColor","borderRadius","cursor","uuid","addMarker","markerEvents","txt","showPop","pop","itemRect","iheight","iwidth","maxHeight","pop_content","render","onPop","offPop","hidePop","getBoundingClientRect","popRect","setTimeout","openSidebar","slideOut","chapter","spinePos","$main","$divider","$loader","$next","$prev","slideIn","currentPosition","one","showLoader","hideDivider","showDivider","keylock","metadata","direction","nextPage","prevPage","bool","fontScale","fontName","color","background","$overlay","$sidebarReflowSetting","ColorPicker","flat","applySettings","origin","pathname","join","applyHeadTags","rel","$sidebar","$panels","activePanel","changePanelTo","viewName","controllerName","getActivePanel","view","data","generateTocItems","level","container","subitems","label","insertBefore","onShow","onHide","chapterChange","$current","has","parents","tocitems","url","parent","$el","open","hasClass"],"mappings":"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"}